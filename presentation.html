<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Go + WebAssembly</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reset.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/dracula.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    
    <style>
        :root {
            --go-color: #00ADD8;
            --wasm-color: #654FF0;
        }
        .reveal h1, .reveal h2, .reveal h3 { 
            text-transform: none; 
            font-family: 'Segoe UI', sans-serif; 
        }
        .reveal h1 { font-size: 2.2em; }
        .reveal h2 { font-size: 1.8em; }
        .reveal h3 { font-size: 1.4em; }
        .reveal p, .reveal li { font-size: 0.9em; }
        .reveal .go-text { color: var(--go-color); font-weight: bold; }
        .reveal .wasm-text { color: var(--wasm-color); font-weight: bold; }
        .reveal pre { width: 100%; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .reveal code { font-size: 0.8em; line-height: 1.3em; }
        .reveal table { font-size: 0.75em; }
        .reveal ul { text-align: left; }
        .highlight { background: rgba(101, 79, 240, 0.2); padding: 5px 10px; border-radius: 5px; }
        
        /* Habilitar scroll vertical */
        .reveal .slides {
            overflow: visible !important;
        }
        .reveal .slides section {
            overflow-y: auto !important;
            overflow-x: hidden !important;
            max-height: 100vh;
            padding: 20px;
        }
        .reveal .slides section::-webkit-scrollbar {
            width: 8px;
        }
        .reveal .slides section::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }
        .reveal .slides section::-webkit-scrollbar-thumb {
            background: var(--go-color);
            border-radius: 4px;
        }
        .reveal .slides section::-webkit-scrollbar-thumb:hover {
            background: var(--wasm-color);
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">

            <!-- SLIDE 0: TÃ­tulo -->
            <section data-background-gradient="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
                <h1><span class="go-text">Go</span> + <span class="wasm-text">WebAssembly</span></h1>
                <h3>CÃ³digo Portable en el Navegador</h3>
                <p style="margin-top: 80px;"><small>Diego Palacio | 2026</small></p>
            </section>

            <!-- SLIDE 1: El Problema + Â¿QuÃ© es WASM? -->
            <section>
                <h2>El Problema</h2>
                <ul>
                    <li class="fragment">JavaScript = Ãºnico lenguaje nativo del navegador desde 1995</li>
                    <li class="fragment">Limitaciones: juegos 3D, ediciÃ³n video, simulaciones cientÃ­ficas</li>
                    <li class="fragment">CÃ³digo existente en C++, Rust, Go sin poder ejecutar</li>
                    <li class="fragment">Intentos previos fallaron: Flash, Java Applets, ActiveX</li>
                </ul>

                <div class="fragment" style="margin-top: 40px; padding: 20px; background: rgba(101,79,240,0.2); border-radius: 10px;">
                    <h3 class="wasm-text">WebAssembly (WASM)</h3>
                    <p><strong>Formato binario de bajo nivel</strong></p>
                    <p>PortÃ¡til | Sandbox seguro | EstÃ¡ndar W3C (2019)</p>
                </div>

                <div class="fragment" style="margin-top: 30px;">
                    <p><strong>âœ… Reutiliza cÃ³digo existente</strong> | <strong>ğŸ”’ Seguro</strong> | <strong>ğŸŒ Todos los navegadores</strong> | <strong>ğŸ”§ C, C++, Rust, Go, C#</strong></p>
                </div>
            </section>

            <!-- SLIDE 2: Arquitectura + CuÃ¡ndo usar -->
            <section>
                <h3>CÃ³mo Funciona WASM</h3>
                <pre style="font-size: 0.75em;"><code data-trim>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         AplicaciÃ³n Web                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  JavaScript (UI, DOM, Eventos)          â”‚
â”‚       â†“ â†‘ (llama/recibe)               â”‚
â”‚  WebAssembly (LÃ³gica pesada, cÃ¡lculos)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Motor (V8, SpiderMonkey) - Compila JIT â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </code></pre>

                <div style="margin-top: 30px;">
                    <p><strong>Flujo:</strong> Descarga .wasm â†’ Compila a cÃ³digo mÃ¡quina â†’ JS instancia â†’ Ejecuta</p>
                </div>

                <div style="margin-top: 30px;">
                    <table>
                        <tr>
                            <th></th>
                            <th>JavaScript (JIT)</th>
                            <th class="wasm-text">WebAssembly (AOT)</th>
                        </tr>
                        <tr>
                            <td>Parsing</td>
                            <td>Parsea texto</td>
                            <td><strong>Binario directo</strong></td>
                        </tr>
                        <tr>
                            <td>Tipos</td>
                            <td>DinÃ¡mico (overhead)</td>
                            <td><strong>EstÃ¡tico (i32, f64)</strong></td>
                        </tr>
                        <tr>
                            <td>Rendimiento</td>
                            <td>JIT (variable)</td>
                            <td><strong>AOT (predecible)</strong></td>
                        </tr>
                        <tr>
                            <td>DOM</td>
                            <td><strong>Directo</strong></td>
                            <td>A travÃ©s de JS</td>
                        </tr>
                        <tr>
                            <td>Memoria</td>
                            <td>GC impredecible</td>
                            <td><strong>Lineal, predecible</strong></td>
                        </tr>
                    </table>
                </div>
            </section>

            <!-- SLIDE 2.5: CuÃ¡ndo usar WASM -->
            <section>
                <h3>Â¿CuÃ¡ndo usar WASM?</h3>
                
                <div style="display: flex; gap: 40px; margin-top: 40px;">
                    <div style="flex: 1;">
                        <h4 style="color: #50fa7b;">âœ… Ideal para:</h4>
                        <ul>
                            <li>ğŸ® Juegos</li>
                            <li>ğŸ“Š Procesamiento de datos</li>
                            <li>ğŸ¨ EdiciÃ³n imagen/video</li>
                            <li>ğŸ” CriptografÃ­a</li>
                            <li>ğŸ§® Simulaciones</li>
                        </ul>
                    </div>
                    
                    <div style="flex: 1;">
                        <h4 style="color: #ff5555;">âŒ NO usar para:</h4>
                        <ul>
                            <li>Apps simples</li>
                            <li>Manipular DOM frecuente</li>
                            <li>Bundle size crÃ­tico</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- SLIDE 3: Â¿Por quÃ© Go? -->
            <section>
                <h2>Â¿Por quÃ© <span class="go-text">Go</span> para WASM?</h2>
                
                <table style="margin-top: 40px;">
                    <thead>
                        <tr>
                            <th>Lenguaje</th>
                            <th>Facilidad</th>
                            <th>Productividad</th>
                            <th>TamaÃ±o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>C/C++</td>
                            <td>â­â­ Complejo</td>
                            <td>â­â­ Lenta</td>
                            <td>â­â­â­ PequeÃ±o</td>
                        </tr>
                        <tr>
                            <td>Rust</td>
                            <td>â­â­ Curva alta</td>
                            <td>â­â­ Lenta</td>
                            <td>â­â­â­ PequeÃ±o</td>
                        </tr>
                        <tr style="background: rgba(0,173,216,0.2);">
                            <td><strong>Go</strong></td>
                            <td><strong>â­â­â­ FÃ¡cil</strong></td>
                            <td><strong>â­â­â­ Alta</strong></td>
                            <td>â­â­ Mediano (2-3MB)</td>
                        </tr>
                    </tbody>
                </table>

                <div style="margin-top: 60px;">
                    <p>ğŸ’š Sintaxis simple | ğŸ”„ Reutiliza cÃ³digo backend | ğŸ› ï¸ Tooling excelente</p>
                </div>
            </section>

            <!-- SLIDE 4: Compilar + ComunicaciÃ³n -->
            <section>
                <h3>Compilar Go a WASM</h3>
                
                <pre><code class="bash" data-trim>
# 1. Compilar a WASM
GOOS=js GOARCH=wasm go build -o main.wasm main.go

# 2. Copiar runtime
cp "$(go env GOROOT)/misc/wasm/wasm_exec.js" .

# 3. Listo!
                </code></pre>

                <div class="fragment" style="margin-top: 40px;">
                    <h4>ComunicaciÃ³n Go â†” JavaScript</h4>
                    <div style="display: flex; gap: 20px;">
                        <div style="flex: 1;">
                            <pre><code class="go" data-trim data-line-numbers>
//go:build js && wasm
package main
import "syscall/js"

func suma(this js.Value, 
          args []js.Value) interface{} {
    a := args[0].Int()
    b := args[1].Int()
    return a + b
}

func main() {
    js.Global().Set("goSuma", 
                    js.FuncOf(suma))
    <-make(chan struct{})
}
                            </code></pre>
                        </div>
                        <div style="flex: 1;">
                            <pre><code class="javascript" data-trim>
// JavaScript llama a Go
const resultado = goSuma(5, 3);
console.log(resultado); // 8
                            </code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SLIDE 5: El Ejemplo - Calculadora -->
            <section>
                <h2>El Ejemplo: Calculadora MatemÃ¡tica</h2>
                
                <div style="display: flex; gap: 30px; align-items: center;">
                    <div style="flex: 1;">
                        <ul>
                            <li>ğŸ”¢ <strong>Fibonacci</strong> - Recursivo intensivo</li>
                            <li>ğŸ¯ <strong>NÃºmeros Primos</strong> - BÃºsqueda hasta N</li>
                            <li>ğŸ“Š <strong>Factorial</strong> - CÃ¡lculo recursivo</li>
                            <li>ğŸ“ˆ <strong>EstadÃ­sticas</strong> - 1M de nÃºmeros</li>
                        </ul>
                        
                        <div style="margin-top: 20px; font-size: 0.85em;">
                            <p><strong>API expuesta (Go â†’ JS):</strong></p>
                            <p style="font-family: monospace; font-size: 0.8em;">
                                goFibonacci(n)<br>
                                goFindPrimes(n)<br>
                                goFactorial(n)<br>
                                goStatistics(array)
                            </p>
                        </div>
                    </div>
                    
                    <div style="flex: 1;">
                        <pre style="font-size: 0.7em;"><code data-trim>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JavaScript         â”‚
â”‚  - UI/Formularios   â”‚
â”‚  - Captura eventos  â”‚
â”‚  - Muestra tiempos  â”‚
â”‚      â†“â†‘ llama       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Go (WASM)          â”‚
â”‚  - Fibonacci        â”‚
â”‚  - Primos           â”‚
â”‚  - EstadÃ­sticas     â”‚
â”‚  - CÃ³digo portÃ¡til  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        </code></pre>
                    </div>
                </div>

                <div class="fragment" style="margin-top: 30px; background: rgba(101,79,240,0.15); padding: 15px; border-radius: 10px;">
                    <p style="margin: 0;"><strong>Por quÃ© este ejemplo:</strong></p>
                    <p style="margin: 5px 0 0 0;">âœ… Simple de entender | âœ… Demuestra portabilidad | âœ… FÃ¡cil de comparar | âœ… Sin complejidad visual</p>
                </div>
            </section>

            <!-- SLIDE 6: CÃ³digo del Ejemplo -->
            <section>
                <h3>CÃ³digo: Fibonacci Recursivo</h3>
                
                <div style="display: flex; gap: 20px;">
                    <div style="flex: 1;">
                        <h4>Go WASM</h4>
                        <pre><code class="go" data-trim data-line-numbers>
func fibonacci(this js.Value, 
               args []js.Value) interface{} {
    n := args[0].Int()
    return fib(n)
}

func fib(n int) int {
    if n <= 1 {
        return n
    }
    return fib(n-1) + fib(n-2)
}

// En main():
js.Global().Set("goFibonacci", 
                js.FuncOf(fibonacci))
                        </code></pre>
                    </div>
                    
                    <div style="flex: 1;">
                        <h4>JavaScript</h4>
                        <pre><code class="javascript" data-trim data-line-numbers>
// Llamar desde JavaScript
function calcular() {
    const n = 40;
    
    const start = performance.now();
    const result = goFibonacci(n);
    const time = performance.now() - start;
    
    console.log(`Resultado: ${result}`);
    console.log(`Tiempo: ${time}ms`);
}

// Resultado: 102,334,155
// Tiempo: ~150ms
                        </code></pre>
                    </div>
                </div>
            </section>

            <!-- SLIDE 7: Casos de Uso Reales -->
            <section>
                <h3>Casos de Uso Reales en ProducciÃ³n</h3>
                
                <table>
                    <tr>
                        <td><strong>Figma</strong></td>
                        <td>Editor diseÃ±o (Rust + WASM) - Renderizado vectores</td>
                    </tr>
                    <tr>
                        <td><strong>AutoCAD</strong></td>
                        <td>CAD completo (C++ â†’ WASM) - 35 aÃ±os de cÃ³digo portado</td>
                    </tr>
                    <tr>
                        <td><strong>Google Earth</strong></td>
                        <td>Globo 3D (C++ â†’ WASM) - WebGL + WASM</td>
                    </tr>
                    <tr>
                        <td><strong>Squoosh</strong></td>
                        <td>Compresor imÃ¡genes (Rust) - Codecs nativos (libwebp, mozjpeg)</td>
                    </tr>
                    <tr>
                        <td><strong>Unity/Unreal</strong></td>
                        <td>Engines completos - Juegos AAA en navegador</td>
                    </tr>
                    <tr>
                        <td><strong>Cloudflare Workers</strong></td>
                        <td>Serverless (WASI) - Arranque en milisegundos</td>
                    </tr>
                </table>

                <div style="margin-top: 40px; text-align: left;">
                    <p><strong>Matrix de decisiÃ³n:</strong></p>
                    <ul style="font-size: 0.85em;">
                        <li><strong>Solo JS:</strong> Apps normales, CRUD, sitios web, manipulaciÃ³n DOM intensiva</li>
                        <li><strong>JS + WASM:</strong> CÃ¡lculos pesados, procesamiento datos, juegos, crypto, IA/ML</li>
                        <li><strong>HÃ­brido ideal:</strong> JS para UI, WASM para lÃ³gica de negocio compleja</li>
                    </ul>
                </div>
            </section>

            <!-- SLIDE 8: Conclusiones -->
            <section>
                <h2>Conclusiones</h2>
                
                <div style="text-align: left; margin-top: 30px;">
                    <p><strong>WASM = Portabilidad en el navegador</strong></p>
                    <p style="margin-left: 30px; font-size: 0.85em;">â†’ Complementa JavaScript, no lo reemplaza</p>
                    <p style="margin-left: 30px; font-size: 0.85em;">â†’ TecnologÃ­a madura y en producciÃ³n</p>
                    
                    <p style="margin-top: 25px;"><strong>Go + WASM = Balance perfecto</strong></p>
                    <p style="margin-left: 30px; font-size: 0.85em;">â†’ Productividad + Portabilidad</p>
                    <p style="margin-left: 30px; font-size: 0.85em;">â†’ CÃ³digo simple, compilaciÃ³n trivial</p>
                    <p style="margin-left: 30px; font-size: 0.85em;">â†’ Tooling maduro y sin configuraciÃ³n compleja</p>
                    
                    <p style="margin-top: 25px;"><strong>Usar cuando:</strong></p>
                    <p style="margin-left: 30px; font-size: 0.85em;">â†’ CÃ¡lculos intensivos (fÃ­sica, simulaciones)</p>
                    <p style="margin-left: 30px; font-size: 0.85em;">â†’ Procesamiento de datos masivos</p>
                    <p style="margin-left: 30px; font-size: 0.85em;">â†’ Reutilizar cÃ³digo existente de otros lenguajes</p>
                </div>

                <div style="margin-top: 40px; background: rgba(0,173,216,0.15); padding: 20px; border-radius: 10px;">
                    <p style="margin: 0;"><strong>CompilaciÃ³n en una lÃ­nea:</strong></p>
                    <pre style="margin: 10px 0 0 0;"><code class="bash">GOOS=js GOARCH=wasm go build -o main.wasm</code></pre>
                </div>

                <h3 style="margin-top: 50px; color: var(--go-color);">Â¡Gracias!</h3>
            </section>

        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/highlight/highlight.min.js"></script>
    
    <script>
        Reveal.initialize({
            hash: false,
            history: false,
            slideNumber: true,
            transition: 'slide',
            plugins: [ RevealHighlight ],
            
            // Habilitar scroll
            width: '100%',
            height: '100%',
            margin: 0.04,
            minScale: 0.2,
            maxScale: 2.0,
            
            // ConfiguraciÃ³n para scroll suave
            mouseWheel: true,
            hideAddressBar: true
        });
    </script>
</body>
</html>
